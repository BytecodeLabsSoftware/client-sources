/*   1:    */ package net.minecraft.block;
/*   2:    */ 
/*   3:    */ import java.util.Random;
/*   4:    */ import net.minecraft.block.material.Material;
/*   5:    */ import net.minecraft.init.Blocks;
/*   6:    */ import net.minecraft.world.World;
/*   7:    */ import net.minecraft.world.WorldProvider;
/*   8:    */ 
/*   9:    */ public class BlockDynamicLiquid
/*  10:    */   extends BlockLiquid
/*  11:    */ {
/*  12:    */   int field_149815_a;
/*  13: 11 */   boolean[] field_149814_b = new boolean[4];
/*  14: 12 */   int[] field_149816_M = new int[4];
/*  15:    */   private static final String __OBFID = "CL_00000234";
/*  16:    */   
/*  17:    */   protected BlockDynamicLiquid(Material p_i45403_1_)
/*  18:    */   {
/*  19: 17 */     super(p_i45403_1_);
/*  20:    */   }
/*  21:    */   
/*  22:    */   private void func_149811_n(World p_149811_1_, int p_149811_2_, int p_149811_3_, int p_149811_4_)
/*  23:    */   {
/*  24: 22 */     int var5 = p_149811_1_.getBlockMetadata(p_149811_2_, p_149811_3_, p_149811_4_);
/*  25: 23 */     p_149811_1_.setBlock(p_149811_2_, p_149811_3_, p_149811_4_, Block.getBlockById(Block.getIdFromBlock(this) + 1), var5, 2);
/*  26:    */   }
/*  27:    */   
/*  28:    */   public void updateTick(World p_149674_1_, int p_149674_2_, int p_149674_3_, int p_149674_4_, Random p_149674_5_)
/*  29:    */   {
/*  30: 31 */     int var6 = func_149804_e(p_149674_1_, p_149674_2_, p_149674_3_, p_149674_4_);
/*  31: 32 */     byte var7 = 1;
/*  32: 34 */     if ((this.blockMaterial == Material.lava) && (!p_149674_1_.provider.isHellWorld)) {
/*  33: 36 */       var7 = 2;
/*  34:    */     }
/*  35: 39 */     boolean var8 = true;
/*  36: 40 */     int var9 = func_149738_a(p_149674_1_);
/*  37: 43 */     if (var6 > 0)
/*  38:    */     {
/*  39: 45 */       byte var10 = -100;
/*  40: 46 */       this.field_149815_a = 0;
/*  41: 47 */       int var13 = func_149810_a(p_149674_1_, p_149674_2_ - 1, p_149674_3_, p_149674_4_, var10);
/*  42: 48 */       var13 = func_149810_a(p_149674_1_, p_149674_2_ + 1, p_149674_3_, p_149674_4_, var13);
/*  43: 49 */       var13 = func_149810_a(p_149674_1_, p_149674_2_, p_149674_3_, p_149674_4_ - 1, var13);
/*  44: 50 */       var13 = func_149810_a(p_149674_1_, p_149674_2_, p_149674_3_, p_149674_4_ + 1, var13);
/*  45: 51 */       int var11 = var13 + var7;
/*  46: 53 */       if ((var11 >= 8) || (var13 < 0)) {
/*  47: 55 */         var11 = -1;
/*  48:    */       }
/*  49: 58 */       if (func_149804_e(p_149674_1_, p_149674_2_, p_149674_3_ + 1, p_149674_4_) >= 0)
/*  50:    */       {
/*  51: 60 */         int var12 = func_149804_e(p_149674_1_, p_149674_2_, p_149674_3_ + 1, p_149674_4_);
/*  52: 62 */         if (var12 >= 8) {
/*  53: 64 */           var11 = var12;
/*  54:    */         } else {
/*  55: 68 */           var11 = var12 + 8;
/*  56:    */         }
/*  57:    */       }
/*  58: 72 */       if ((this.field_149815_a >= 2) && (this.blockMaterial == Material.water)) {
/*  59: 74 */         if (p_149674_1_.getBlock(p_149674_2_, p_149674_3_ - 1, p_149674_4_).getMaterial().isSolid()) {
/*  60: 76 */           var11 = 0;
/*  61: 78 */         } else if ((p_149674_1_.getBlock(p_149674_2_, p_149674_3_ - 1, p_149674_4_).getMaterial() == this.blockMaterial) && (p_149674_1_.getBlockMetadata(p_149674_2_, p_149674_3_ - 1, p_149674_4_) == 0)) {
/*  62: 80 */           var11 = 0;
/*  63:    */         }
/*  64:    */       }
/*  65: 84 */       if ((this.blockMaterial == Material.lava) && (var6 < 8) && (var11 < 8) && (var11 > var6) && (p_149674_5_.nextInt(4) != 0)) {
/*  66: 86 */         var9 *= 4;
/*  67:    */       }
/*  68: 89 */       if (var11 == var6)
/*  69:    */       {
/*  70: 91 */         if (var8) {
/*  71: 93 */           func_149811_n(p_149674_1_, p_149674_2_, p_149674_3_, p_149674_4_);
/*  72:    */         }
/*  73:    */       }
/*  74:    */       else
/*  75:    */       {
/*  76: 98 */         var6 = var11;
/*  77:100 */         if (var11 < 0)
/*  78:    */         {
/*  79:102 */           p_149674_1_.setBlockToAir(p_149674_2_, p_149674_3_, p_149674_4_);
/*  80:    */         }
/*  81:    */         else
/*  82:    */         {
/*  83:106 */           p_149674_1_.setBlockMetadataWithNotify(p_149674_2_, p_149674_3_, p_149674_4_, var11, 2);
/*  84:107 */           p_149674_1_.scheduleBlockUpdate(p_149674_2_, p_149674_3_, p_149674_4_, this, var9);
/*  85:108 */           p_149674_1_.notifyBlocksOfNeighborChange(p_149674_2_, p_149674_3_, p_149674_4_, this);
/*  86:    */         }
/*  87:    */       }
/*  88:    */     }
/*  89:    */     else
/*  90:    */     {
/*  91:114 */       func_149811_n(p_149674_1_, p_149674_2_, p_149674_3_, p_149674_4_);
/*  92:    */     }
/*  93:117 */     if (func_149809_q(p_149674_1_, p_149674_2_, p_149674_3_ - 1, p_149674_4_))
/*  94:    */     {
/*  95:119 */       if ((this.blockMaterial == Material.lava) && (p_149674_1_.getBlock(p_149674_2_, p_149674_3_ - 1, p_149674_4_).getMaterial() == Material.water))
/*  96:    */       {
/*  97:121 */         p_149674_1_.setBlock(p_149674_2_, p_149674_3_ - 1, p_149674_4_, Blocks.stone);
/*  98:122 */         func_149799_m(p_149674_1_, p_149674_2_, p_149674_3_ - 1, p_149674_4_);
/*  99:123 */         return;
/* 100:    */       }
/* 101:126 */       if (var6 >= 8) {
/* 102:128 */         func_149813_h(p_149674_1_, p_149674_2_, p_149674_3_ - 1, p_149674_4_, var6);
/* 103:    */       } else {
/* 104:132 */         func_149813_h(p_149674_1_, p_149674_2_, p_149674_3_ - 1, p_149674_4_, var6 + 8);
/* 105:    */       }
/* 106:    */     }
/* 107:135 */     else if ((var6 >= 0) && ((var6 == 0) || (func_149807_p(p_149674_1_, p_149674_2_, p_149674_3_ - 1, p_149674_4_))))
/* 108:    */     {
/* 109:137 */       boolean[] var14 = func_149808_o(p_149674_1_, p_149674_2_, p_149674_3_, p_149674_4_);
/* 110:138 */       int var11 = var6 + var7;
/* 111:140 */       if (var6 >= 8) {
/* 112:142 */         var11 = 1;
/* 113:    */       }
/* 114:145 */       if (var11 >= 8) {
/* 115:147 */         return;
/* 116:    */       }
/* 117:150 */       if (var14[0] != 0) {
/* 118:152 */         func_149813_h(p_149674_1_, p_149674_2_ - 1, p_149674_3_, p_149674_4_, var11);
/* 119:    */       }
/* 120:155 */       if (var14[1] != 0) {
/* 121:157 */         func_149813_h(p_149674_1_, p_149674_2_ + 1, p_149674_3_, p_149674_4_, var11);
/* 122:    */       }
/* 123:160 */       if (var14[2] != 0) {
/* 124:162 */         func_149813_h(p_149674_1_, p_149674_2_, p_149674_3_, p_149674_4_ - 1, var11);
/* 125:    */       }
/* 126:165 */       if (var14[3] != 0) {
/* 127:167 */         func_149813_h(p_149674_1_, p_149674_2_, p_149674_3_, p_149674_4_ + 1, var11);
/* 128:    */       }
/* 129:    */     }
/* 130:    */   }
/* 131:    */   
/* 132:    */   private void func_149813_h(World p_149813_1_, int p_149813_2_, int p_149813_3_, int p_149813_4_, int p_149813_5_)
/* 133:    */   {
/* 134:174 */     if (func_149809_q(p_149813_1_, p_149813_2_, p_149813_3_, p_149813_4_))
/* 135:    */     {
/* 136:176 */       Block var6 = p_149813_1_.getBlock(p_149813_2_, p_149813_3_, p_149813_4_);
/* 137:178 */       if (this.blockMaterial == Material.lava) {
/* 138:180 */         func_149799_m(p_149813_1_, p_149813_2_, p_149813_3_, p_149813_4_);
/* 139:    */       } else {
/* 140:184 */         var6.dropBlockAsItem(p_149813_1_, p_149813_2_, p_149813_3_, p_149813_4_, p_149813_1_.getBlockMetadata(p_149813_2_, p_149813_3_, p_149813_4_), 0);
/* 141:    */       }
/* 142:187 */       p_149813_1_.setBlock(p_149813_2_, p_149813_3_, p_149813_4_, this, p_149813_5_, 3);
/* 143:    */     }
/* 144:    */   }
/* 145:    */   
/* 146:    */   private int func_149812_c(World p_149812_1_, int p_149812_2_, int p_149812_3_, int p_149812_4_, int p_149812_5_, int p_149812_6_)
/* 147:    */   {
/* 148:193 */     int var7 = 1000;
/* 149:195 */     for (int var8 = 0; var8 < 4; var8++) {
/* 150:197 */       if (((var8 != 0) || (p_149812_6_ != 1)) && ((var8 != 1) || (p_149812_6_ != 0)) && ((var8 != 2) || (p_149812_6_ != 3)) && ((var8 != 3) || (p_149812_6_ != 2)))
/* 151:    */       {
/* 152:199 */         int var9 = p_149812_2_;
/* 153:200 */         int var11 = p_149812_4_;
/* 154:202 */         if (var8 == 0) {
/* 155:204 */           var9 = p_149812_2_ - 1;
/* 156:    */         }
/* 157:207 */         if (var8 == 1) {
/* 158:209 */           var9++;
/* 159:    */         }
/* 160:212 */         if (var8 == 2) {
/* 161:214 */           var11 = p_149812_4_ - 1;
/* 162:    */         }
/* 163:217 */         if (var8 == 3) {
/* 164:219 */           var11++;
/* 165:    */         }
/* 166:222 */         if ((!func_149807_p(p_149812_1_, var9, p_149812_3_, var11)) && ((p_149812_1_.getBlock(var9, p_149812_3_, var11).getMaterial() != this.blockMaterial) || (p_149812_1_.getBlockMetadata(var9, p_149812_3_, var11) != 0)))
/* 167:    */         {
/* 168:224 */           if (!func_149807_p(p_149812_1_, var9, p_149812_3_ - 1, var11)) {
/* 169:226 */             return p_149812_5_;
/* 170:    */           }
/* 171:229 */           if (p_149812_5_ < 4)
/* 172:    */           {
/* 173:231 */             int var12 = func_149812_c(p_149812_1_, var9, p_149812_3_, var11, p_149812_5_ + 1, var8);
/* 174:233 */             if (var12 < var7) {
/* 175:235 */               var7 = var12;
/* 176:    */             }
/* 177:    */           }
/* 178:    */         }
/* 179:    */       }
/* 180:    */     }
/* 181:242 */     return var7;
/* 182:    */   }
/* 183:    */   
/* 184:    */   private boolean[] func_149808_o(World p_149808_1_, int p_149808_2_, int p_149808_3_, int p_149808_4_)
/* 185:    */   {
/* 186:250 */     for (int var5 = 0; var5 < 4; var5++)
/* 187:    */     {
/* 188:252 */       this.field_149816_M[var5] = 1000;
/* 189:253 */       int var6 = p_149808_2_;
/* 190:254 */       int var8 = p_149808_4_;
/* 191:256 */       if (var5 == 0) {
/* 192:258 */         var6 = p_149808_2_ - 1;
/* 193:    */       }
/* 194:261 */       if (var5 == 1) {
/* 195:263 */         var6++;
/* 196:    */       }
/* 197:266 */       if (var5 == 2) {
/* 198:268 */         var8 = p_149808_4_ - 1;
/* 199:    */       }
/* 200:271 */       if (var5 == 3) {
/* 201:273 */         var8++;
/* 202:    */       }
/* 203:276 */       if ((!func_149807_p(p_149808_1_, var6, p_149808_3_, var8)) && ((p_149808_1_.getBlock(var6, p_149808_3_, var8).getMaterial() != this.blockMaterial) || (p_149808_1_.getBlockMetadata(var6, p_149808_3_, var8) != 0))) {
/* 204:278 */         if (func_149807_p(p_149808_1_, var6, p_149808_3_ - 1, var8)) {
/* 205:280 */           this.field_149816_M[var5] = func_149812_c(p_149808_1_, var6, p_149808_3_, var8, 1, var5);
/* 206:    */         } else {
/* 207:284 */           this.field_149816_M[var5] = 0;
/* 208:    */         }
/* 209:    */       }
/* 210:    */     }
/* 211:289 */     var5 = this.field_149816_M[0];
/* 212:291 */     for (int var6 = 1; var6 < 4; var6++) {
/* 213:293 */       if (this.field_149816_M[var6] < var5) {
/* 214:295 */         var5 = this.field_149816_M[var6];
/* 215:    */       }
/* 216:    */     }
/* 217:299 */     for (var6 = 0; var6 < 4; var6++) {
/* 218:301 */       this.field_149814_b[var6] = (this.field_149816_M[var6] == var5 ? 1 : false);
/* 219:    */     }
/* 220:304 */     return this.field_149814_b;
/* 221:    */   }
/* 222:    */   
/* 223:    */   private boolean func_149807_p(World p_149807_1_, int p_149807_2_, int p_149807_3_, int p_149807_4_)
/* 224:    */   {
/* 225:309 */     Block var5 = p_149807_1_.getBlock(p_149807_2_, p_149807_3_, p_149807_4_);
/* 226:310 */     return var5.blockMaterial == Material.Portal;
/* 227:    */   }
/* 228:    */   
/* 229:    */   protected int func_149810_a(World p_149810_1_, int p_149810_2_, int p_149810_3_, int p_149810_4_, int p_149810_5_)
/* 230:    */   {
/* 231:315 */     int var6 = func_149804_e(p_149810_1_, p_149810_2_, p_149810_3_, p_149810_4_);
/* 232:317 */     if (var6 < 0) {
/* 233:319 */       return p_149810_5_;
/* 234:    */     }
/* 235:323 */     if (var6 == 0) {
/* 236:325 */       this.field_149815_a += 1;
/* 237:    */     }
/* 238:328 */     if (var6 >= 8) {
/* 239:330 */       var6 = 0;
/* 240:    */     }
/* 241:333 */     return (p_149810_5_ >= 0) && (var6 >= p_149810_5_) ? p_149810_5_ : var6;
/* 242:    */   }
/* 243:    */   
/* 244:    */   private boolean func_149809_q(World p_149809_1_, int p_149809_2_, int p_149809_3_, int p_149809_4_)
/* 245:    */   {
/* 246:339 */     Material var5 = p_149809_1_.getBlock(p_149809_2_, p_149809_3_, p_149809_4_).getMaterial();
/* 247:340 */     return var5 != this.blockMaterial;
/* 248:    */   }
/* 249:    */   
/* 250:    */   public void onBlockAdded(World p_149726_1_, int p_149726_2_, int p_149726_3_, int p_149726_4_)
/* 251:    */   {
/* 252:345 */     super.onBlockAdded(p_149726_1_, p_149726_2_, p_149726_3_, p_149726_4_);
/* 253:347 */     if (p_149726_1_.getBlock(p_149726_2_, p_149726_3_, p_149726_4_) == this) {
/* 254:349 */       p_149726_1_.scheduleBlockUpdate(p_149726_2_, p_149726_3_, p_149726_4_, this, func_149738_a(p_149726_1_));
/* 255:    */     }
/* 256:    */   }
/* 257:    */   
/* 258:    */   public boolean func_149698_L()
/* 259:    */   {
/* 260:355 */     return true;
/* 261:    */   }
/* 262:    */ }


/* Location:           C:\Users\D\AppData\Roaming\.minecraft\versions\Nodus_2.0-1.7.x\Nodus_2.0-1.7.x.jar
 * Qualified Name:     net.minecraft.block.BlockDynamicLiquid
 * JD-Core Version:    0.7.0.1
 */