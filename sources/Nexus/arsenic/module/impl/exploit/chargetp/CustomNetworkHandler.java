package arsenic.module.impl.exploit.chargetp;

import arsenic.main.Nexus;
import io.netty.channel.ChannelHandlerContext;
import io.netty.util.concurrent.Future;
import io.netty.util.concurrent.GenericFutureListener;
import net.minecraft.network.EnumPacketDirection;
import net.minecraft.network.NetworkManager;
import net.minecraft.network.Packet;

public class CustomNetworkHandler extends NetworkManager {
    public CustomNetworkHandler(EnumPacketDirection packetDirection) {
        super(packetDirection);
    }

    private CustomPlayer customPlayer;

    public void setCustomPlayer(CustomPlayer customPlayer) {
        this.customPlayer = customPlayer;
    }

    @Override
    public void sendPacket(Packet packetIn) {
        Nexus.getNexus().getModuleManager().getModuleByClass(ChargeTp.class).addToPacketList(packetIn, customPlayer.getTicks());
        super.sendPacket(packetIn);
    }

    @Override
    public void sendPacket(Packet packetIn, GenericFutureListener<? extends Future<? super Void>> listener, GenericFutureListener<? extends Future<? super Void>>... listeners) {
        super.sendPacket(packetIn, listener, listeners);
    }

    @Override
    protected void channelRead0(ChannelHandlerContext p_channelRead0_1_, Packet p_channelRead0_2_) throws Exception {
        super.channelRead0(p_channelRead0_1_, p_channelRead0_2_);
    }

    @Override
    public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {
        super.channelRead(ctx, msg);
    }
}
