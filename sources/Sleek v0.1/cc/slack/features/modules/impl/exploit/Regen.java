package cc.slack.features.modules.impl.exploit;

import cc.slack.events.impl.game.TickEvent;
import cc.slack.features.modules.api.Category;
import cc.slack.features.modules.api.Module;
import cc.slack.features.modules.api.ModuleInfo;
import cc.slack.features.modules.api.settings.Value;
import cc.slack.features.modules.api.settings.impl.NumberValue;
import cc.slack.utils.client.mc;
import io.github.nevalackin.radbus.Listen;
import net.minecraft.network.play.client.C03PacketPlayer;

@ModuleInfo(
   name = "Regen",
   category = Category.EXPLOIT
)
public class Regen extends Module {
   private final NumberValue<Double> packets = new NumberValue("Packets", 2.0D, 1.0D, 300.0D, 1.0D);

   public Regen() {
      this.addSettings(new Value[]{this.packets});
   }

   @Listen
   public void onTick(TickEvent event) {
      for(int i = 0; (double)i < (Double)this.packets.getValue(); ++i) {
         if (mc.getPlayer().getHealth() != 20.0F) {
            mc.getPlayer().sendQueue.addToSendQueue(new C03PacketPlayer(mc.getPlayer().onGround));
         }
      }

   }
}
