/*
 * Decompiled with CFR 0.152.
 * 
 * Could not load the following classes:
 *  com.google.common.eventbus.Subscribe
 */
package lodomir.dev.modules.impl.exploit;

import com.google.common.eventbus.Subscribe;
import java.util.ArrayList;
import java.util.List;
import lodomir.dev.event.impl.EventMotion;
import lodomir.dev.event.impl.EventSendPackets;
import lodomir.dev.modules.Category;
import lodomir.dev.modules.Module;
import net.minecraft.network.play.client.C03PacketPlayer;
import net.minecraft.util.Vec3;

public class Blink
extends Module {
    List<Vec3> path = new ArrayList<Vec3>();

    public Blink() {
        super("Blink", 0, Category.EXPLOIT);
    }

    @Subscribe
    public void onSendPackets(EventSendPackets event) {
        if (event.getPackets() instanceof C03PacketPlayer) {
            event.setCancelled(true);
        }
    }

    @Subscribe
    public void onMotion(EventMotion event) {
        if (Blink.mc.thePlayer.ticksExisted < 50) {
            return;
        }
        if (Blink.mc.thePlayer.lastTickPosX != Blink.mc.thePlayer.posX || Blink.mc.thePlayer.lastTickPosY != Blink.mc.thePlayer.posY || Blink.mc.thePlayer.lastTickPosZ != Blink.mc.thePlayer.posZ) {
            this.path.add(new Vec3(Blink.mc.thePlayer.posX, Blink.mc.thePlayer.posY, Blink.mc.thePlayer.posZ));
        }
        super.onMotion(event);
    }

    @Override
    public void onDisable() {
    }

    @Override
    public void onEnable() {
        this.path.clear();
    }
}

