package club.marsh.bloom.impl.mods.exploit;

import club.marsh.bloom.api.module.Category;
import club.marsh.bloom.api.module.Module;
import club.marsh.bloom.api.value.ModeValue;
import club.marsh.bloom.api.value.NumberValue;
import club.marsh.bloom.impl.events.UpdateEvent;
import com.google.common.eventbus.Subscribe;
import net.minecraft.network.play.client.C02PacketUseEntity;
import net.minecraft.network.play.client.C03PacketPlayer;
import org.lwjgl.input.Keyboard;


public class Kick extends Module {
	public Kick() {
		super("Kick",Keyboard.KEY_NONE,Category.EXPLOIT);
	}

	ModeValue mode = new ModeValue("Mode", "Packet", new String[] {"Packet", "Attack"});

	@Override
	public void onEnable() {
		switch (mode.getMode()) {
			case "Packet":
				for (int i = 750; i > 0; --i) {
					mc.getNetHandler().addToSendQueueSilent(new C03PacketPlayer(true));
				}
				break;
			case "Attack":
				mc.playerController.attackEntity(mc.thePlayer, mc.thePlayer);
				mc.getNetHandler().addToSendQueueSilent(new C02PacketUseEntity(mc.thePlayer, C02PacketUseEntity.Action.ATTACK));
				break;
		}
		this.setToggled(false);
	}
}
