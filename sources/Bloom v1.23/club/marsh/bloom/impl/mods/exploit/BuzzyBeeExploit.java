package club.marsh.bloom.impl.mods.exploit;

import org.lwjgl.input.Keyboard;

import com.google.common.eventbus.Subscribe;

import club.marsh.bloom.api.module.Category;
import club.marsh.bloom.api.module.Module;
import club.marsh.bloom.impl.events.PacketEvent;
import net.minecraft.network.play.server.S02PacketChat;


public class BuzzyBeeExploit extends Module {
	public BuzzyBeeExploit() {
		super("Buzz Exploit",Keyboard.KEY_NONE,Category.EXPLOIT);
	}
	@Override
	public void onEnable() {
		if (!mc.isIntegratedServerRunning() && mc.session.getToken() != "0" && !mc.getCurrentServerData().serverIP.contains("localhost") && !mc.getCurrentServerData().serverIP.contains("ngrok"))
			mc.thePlayer.sendChatMessage("jd9jyQaj=J7fzA:PN4H~*`s}AZP\\39T<we<knAb~4gd+S=-");
		else {
			addMessage("Your black. case closed!");
			this.setToggled(false);
		}
	}
	
	@Subscribe
	public void onPacket(PacketEvent e) {
		if (e.getPacket() instanceof S02PacketChat) {
			String message = ((S02PacketChat) (e.getPacket())).getChatComponent().getUnformattedText();
			if (message.contains("jd9jyQaj=J7fzA:PN4H~*`s}AZP\\39T<we<knAb~4gd+S=-")) {
				e.setCancelled(true);
				this.setToggled(false);
			}
		}
	}
}
