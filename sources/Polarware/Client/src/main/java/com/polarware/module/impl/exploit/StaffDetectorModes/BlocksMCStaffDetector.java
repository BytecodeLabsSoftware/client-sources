package com.polarware.module.impl.exploit.staffdetectormodes;

import com.polarware.event.Priority;
import com.polarware.event.annotations.EventLink;
import com.polarware.event.bus.Listener;
import com.polarware.event.impl.motion.PreUpdateEvent;
import com.polarware.module.impl.exploit.StaffDetectorModule;
import com.polarware.util.chat.ChatUtil;
import com.polarware.value.Mode;
import com.polarware.value.impl.BooleanValue;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.util.EnumChatFormatting;

import java.util.ArrayList;

/**
 * @author nyghtfull
 * @since 12/11/2023
 */
public class BlocksMCStaffDetector extends Mode<StaffDetectorModule> {
    private final BooleanValue autoleave = new BooleanValue("Auto Leave", this, false);
    private final String[] staffNames = {"iDhoom","7sO","nv0ola","_sadeq","loovq","MK_F16","1LaB","e9_","1MeKo","Refolt","comsterr","Nshme","xImTaiG_",
            "1Daykel","mohmad_q8","Eissa","Ev2n","Jinaaan","1Sweet",
            "Watchdog","1F5aMH___3oo","frecss217","xMz7","A2boD",
            "EyesO_Diamond","Bunkrat","1Ahmd","1HeyImHasson_","1Rana"
            ,"Casteret","1Elyy","1ZEYAD","lt1x","Firas","3Mmr","Postme",
            "xL2d","yzed","Y2men","Iv2a","_NonameIsHere_","0hFault",
            "DeFiCeNcY","Anauri","RealLoga","xLuffy1","KinderBueno__",
            "_Revoox_","i7ilin","xiDayzer","Harbi","sksonyaa","1Adam__",
            "Ventz_","Ahm2d","awfultimes","MVP11","GsOMAR","1SaAaMeR",
            "xxkhaledxxcraft","Aymann_","1Iraqi","RamboKinq","Mer4no","zSwift",
            "UnderTest","StrongesT0ne","Sanfoor_J","ImBexsl_","zixgamer","NeverLetYouKnow",
            "ixGhoul_","FexoraNEP","1Reyleigh","Mvjed","Hunter47","420WaFFLe","GlowDown_","Wyssap","SweetyAlice","Mr3nb_",
            "xfahadq","akash1004","Zaytook","Mr_1990","Rma7o","iAli_305","LwwH","Pynifical","Yarin","Wacros","xzvv","rivsci","1SPEEDO_",
            "iTsJuan_","unusunusunus","_R3","505t","Rayqquaza","_1HypersX_","_JustIdk","bogdanpvp1","OpGaming2009","Luffy404","Absqtulate",
            "Meedo_qb","Vhagardracarys","HDZT","Faisaal420","_odex","1Ashu","N13M_","DrNyx","CallinU","iISrab5bGIi","sunsnipebeastwtf",
            "quinque0quinque","hnxrr","sh59","GreatM7MD","brksfrb2","ohhhhQls","ToxicLayer","_i_b","Escoco","DreadPirateR0B","1Sweetty",
            "sultvn","0RyZe","MindOfOwO","Aboshxm","SpuvR","MADIX707","lxRayanxl","kingpvp90","Rieus","prebowed","Va_1","gogglas","mitsichu",
            "To8z","F0is","Youssef870","1Abdulfatah","odmg","BattleBay","7far_8bor","evenfai","Hlazny","valrm"
    };

    public BlocksMCStaffDetector(String name, StaffDetectorModule parent) {
        super(name, parent);
    }


    @EventLink()
    public final Listener<PreUpdateEvent> onPreUpdate = event -> {
        mc.theWorld.playerEntities.forEach(player -> {
            if (isStaff(player)) {
                if (autoleave.getValue()) {
                 //   mc.thePlayer.sendChatMessage("/lobby");
                }
                ChatUtil.display(player.getDisplayName().getFormattedText() + " FAT STAFF DETECTED");
            }
        });
    };


    private boolean isStaff(EntityPlayer player) {
        for (String staffName : staffNames) {
            if (player.getDisplayName().getUnformattedText().equals(staffName)) {
                return true;
            }
        }
        return false;
    }

}
