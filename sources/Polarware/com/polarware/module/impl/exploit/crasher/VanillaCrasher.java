package com.polarware.module.impl.exploit.crasher;

import com.polarware.module.impl.exploit.CrasherModule;
import com.polarware.event.bus.Listener;
import com.polarware.event.annotations.EventLink;
import com.polarware.event.impl.motion.PreMotionEvent;
import com.polarware.value.Mode;

public class VanillaCrasher extends Mode<CrasherModule> {

    private double x;
    private double y;
    private double z;

    public VanillaCrasher(String name, CrasherModule parent) {
        super(name, parent);
    }

    @EventLink()
    public final Listener<PreMotionEvent> onPreMotionEvent = event -> {

        final double amount = 5;

        x += amount;
        y = Math.min(y + amount, 255);
        z += amount;

        event.setPosX(x);
        event.setPosY(y);
        event.setPosZ(z);
    };

    @Override
    public void onEnable() {
        x = mc.thePlayer.posX;
        y = mc.thePlayer.posY;
        z = mc.thePlayer.posZ;
    }
}